<!-- MAIN CONTENT -->
<header class="mb-10 lg:px-40">
  <h1 class="text-white text-3xl font-bold pl-3">Directivas: if, for y switch</h1>
  <p class="text-gray-400 text-sm pl-3 pt-3">
    Ejercicios prácticos sobre la comunicación entre el código y la vista.
  </p>
</header>
<div class="flex flex-col lg:px-40 gap-10">
  <!-- card 1 : @if -->
  <section class="card-purple">
    <h2 class="text-xl font-semibold text-white mb-4 flex items-center gap-2">
      <span class="text-purple-400">&#64;if</span> Pulsar
    </h2>
    <p class="mb-5 text-slate-400 text-sm leading-relaxed">
      La directiv <span class="text-purple-400 font-mono">&#64;if</span> permite el renderizado
      condicional de elementos. El bloque de contenido solo se añade al DOM cuando la condición
      evaluada es verdadera, optimizando así el rendimiento.
    </p>
    <button
      (click)="toggleText()"
      class="w-40 py-2 p-3 bg-purple-700 hover:bg-purple-600 text-white rounded-lg font-medium transition-all active:scale-99"
    >
      {{ isVisibleText() ? 'Ocultar etiqueta' : 'Mostrar etiqueta' }}
    </button>
    @if (isVisibleText()) {
    <div
      class="p-4 bg-purple-500/10 border mt-5 border-purple-500/30 rounded-lg text-white animate-in zoom-in"
    >
      Muestra o oculta esta etiqueta cuando pulsamos en el enlace anterior.
    </div>
    }
  </section>

  <!-- card 2 : @for -->

  <section class="card-sky">
    <h2 class="text-xl font-semibold text-white mb-4 flex items-center gap-2">
      <span class="text-sky-400">&#64;for</span> iterarciones
    </h2>
    <p class="mb-5 text-slate-400 text-sm leading-relaxed">
      La directiva <span class="text-sky-400 font-mono">&#64;for</span> permite iterar sobre
      colecciones y renderizar un bloque por cada elemento. En cada iteración expones la variable
      del elemento (y opcionalmente el índice y flags como `first`/`last`), lo que facilita crear
      listas dinámicas. Ejemplo: <span class="font-mono">&#64;for(let item of items)</span>. Usa
      `trackBy` para mejorar el rendimiento en listas grandes.
    </p>

    <div class="w-full mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
      @for (client of clients(); track client.id) {
      <app-client-card [client]="client" />
      }
    </div>
  </section>

  <section class="card-orange">
    <h2 class="text-xl font-semibold text-white mb-4 flex items-center gap-2">
      <span class="text-orange-400">&#64;switch</span> casos
    </h2>
    <p class="mb-5 text-slate-400 text-sm leading-relaxed">
      La directiva <span class="text-orange-400 font-mono">&#64;switch</span> evalúa una expresión y
      renderiza únicamente el bloque que coincide con uno de sus
      <span class="font-mono">&#64;case</span>, o el bloque
      <span class="font-mono">&#64;default</span> si no hay coincidencias. Es útil para seleccionar
      entre varias variantes de contenido sin anidar múltiples condiciones. Ejemplo de uso:
      <span class="font-mono"
        >&#64;switch(status) &#123; &#64;case 'Aprobado' &#123; ... &#125; &#64;case 'Pendiente'
        &#123; ... &#125; &#64;default &#123; ... &#125; &#125;</span
      >.
    </p>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
      <div class="flex gap-4">
        <button
          (click)="colorSelected = 'Azul'"
          class="w-12 h-12 rounded-full bg-blue-600 ring-2 ring-offset-2 ring-offset-slate-950 transition-all"
          [class.ring-white]="colorSelected === 'Azul'"
        ></button>
        <button
          (click)="colorSelected = 'Rojo'"
          class="w-12 h-12 rounded-full bg-red-600 ring-2 ring-offset-2 ring-offset-slate-950 transition-all"
          [class.ring-white]="colorSelected === 'Rojo'"
        ></button>
        <button
          (click)="colorSelected = 'Verde'"
          class="w-12 h-12 rounded-full bg-emerald-600 ring-2 ring-offset-2 ring-offset-slate-950 transition-all"
          [class.ring-white]="colorSelected === 'Verde'"
        ></button>
      </div>
      <div class="p-6 bg-slate-950 rounded-xl border border-slate-800 text-center">
        @switch (colorSelected) { @case ('Azul') {
        <p class="text-blue-400 font-bold text-2xl animate-pulse">Azul seleccionado</p>
        } @case ('Rojo') {
        <p class="text-red-400 font-bold text-2xl animate-pulse">Rojo seleccionado</p>
        } @case ('Verde') {
        <p class="text-emerald-400 font-bold text-2xl animate-pulse">Verde seleccionado</p>
        } @default {
        <p class="text-slate-500 italic">Selecciona un color...</p>
        } }
      </div>
    </div>
  </section>
</div>
