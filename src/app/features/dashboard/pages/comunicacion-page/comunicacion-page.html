<div class="flex flex-col gap-16 w-full mx-auto px-4 sm:px-6 lg:px-8 pb-16">


  <!-- CARD input -->
 <app-directive-card
    [title]="'Comunicacion padre => hijo'"
    [directiveName]="'input()'"
    [description]="descriptionInput"
    [themeColor]="'purple'"
    [codeExample]="codeInputExample"
    [fileName]="'hijo.component.ts'"
    [footerLabel]="'Entrada actual'"
    [footerValue]="variableInput() || 'VacÃ­a'"
 >


  <div class="flex flex-col gap-4">
    <div class="p-4 bg-purple-500/5 border border-purple-500/20 rounded-lg">
      <label class="text-xs text-purple-300 font-mono uppercase tracking-wider mb-2 block">Padre: EnvÃ­a datos al hijo</label>
      <input
        [value]="variableInput()"
        type="text"
        placeholder="Escribe algo aquÃ­..."
        (input)="variableInput.set(texto.value)"
        class="w-full bg-slate-950 border-2 border-purple-400/30 rounded-xl p-4 text-white placeholder:text-slate-600 focus:outline-none focus:border-purple-400 focus:ring-2 focus:ring-purple-400/20 transition-all"
        #texto
      />
    </div>

    <!-- Hijo: recibe datos del padre -->
    <div class="p-4 bg-purple-500/5 border border-purple-500/20 rounded-lg">
      <p class="text-xs text-purple-300 font-mono uppercase tracking-wider mb-3">Hijo: Recibiendo datos</p>
      <input-ejemplo
        [opcionSelecionada]="variableInput()"
        [titulo]="'Input Ejemplo'"
      ></input-ejemplo>
    </div>
  </div>

 
</app-directive-card>

  <!-- CARD OUTPUT -->
  <app-directive-card
    [title]="'Comunicacion hijo => padre'"
    [directiveName]="'output()'"
    [description]="descriptionOutput"
    [themeColor]="'lime'"
    [codeExample]="codeOutputExample"
    [fileName]="'child.component.ts'"
    [footerLabel]="'Color seleccionado'"
    [footerValue]="selectedColor()?.name || 'Selecciona un color'"
  >
    <div class="flex flex-col gap-4">
      <!-- Hijo: Selector de colores -->
      <app-output-ejemplo (colorSelected)="cambiarColorSelecionado($event)"></app-output-ejemplo>
      
      <!-- Padre: Muestra el color recibido -->
      <div class="p-4 bg-lime-500/5 border border-lime-500/20 rounded-lg">
        <p class="text-xs text-lime-300 font-mono uppercase tracking-wider mb-3">Padre: Recibiendo eventos del hijo</p>
        
        @if (selectedColor()) {
          <div class="flex items-center gap-4 p-4 bg-slate-900 rounded-xl border-2 transition-all duration-500"
               [style.border-color]="selectedColor()!.hex">
            <!-- Preview del color -->
            <div class="w-20 h-20 rounded-xl shadow-lg transition-all duration-500"
                 [style.background-color]="selectedColor()!.hex">
            </div>
            
            <!-- InformaciÃ³n del color -->
            <div class="flex-1">
              <p class="text-lg font-bold text-white mb-1">{{ selectedColor()!.name }}</p>
              <p class="text-sm font-mono text-slate-400">{{ selectedColor()!.hex }}</p>
              <p class="text-xs text-lime-400 mt-2">âœ“ Evento recibido del hijo</p>
            </div>
          </div>
        } @else {
          <div class="p-6 bg-slate-900 rounded-xl border-2 border-dashed border-slate-700 text-center">
            <p class="text-slate-500 text-sm">ðŸ‘† Haz clic en un color arriba</p>
          </div>
        }
      </div>
    </div>
  </app-directive-card>

  <!-- CARD MODEL -->
  <app-directive-card
    [title]="'Comunicacion bidireccional'"
    [directiveName]="'model()'"
    [description]="descriptionModel"
    [themeColor]="'orange'"
    [codeExample]="codeModelExample"
    [fileName]="'model-ejemplo.component.ts'"
    [footerLabel]="'Volumen sincronizado'"
    [footerValue]="volumenModel() + '%'"
  >
    <div class="flex flex-col gap-4">
      <!-- Padre: controles superiores -->
      <div class="p-4 bg-orange-500/5 border border-orange-500/20 rounded-lg">
        <p class="text-xs text-orange-300 font-mono uppercase tracking-wider mb-3">Padre: Controles rÃ¡pidos </p>
        <div class="grid grid-cols-4 gap-2 mb-3">
          <button
            (click)="volumenModel.set(0)"
            class="px-3 py-2 bg-orange-600 hover:bg-orange-500 text-white text-xs font-mono rounded-lg transition-all active:scale-95"
          >
            0%
          </button>
          <button
            (click)="volumenModel.set(33)"
            class="px-3 py-2 bg-orange-600 hover:bg-orange-500 text-white text-xs font-mono rounded-lg transition-all active:scale-95"
          >
            33%
          </button>
          <button
            (click)="volumenModel.set(66)"
            class="px-3 py-2 bg-orange-600 hover:bg-orange-500 text-white text-xs font-mono rounded-lg transition-all active:scale-95"
          >
            66%
          </button>
          <button
            (click)="volumenModel.set(100)"
            class="px-3 py-2 bg-orange-600 hover:bg-orange-500 text-white text-xs font-mono rounded-lg transition-all active:scale-95"
          >
            100%
          </button>
        </div>
    
      </div>

      <!-- Hijo: componente con model() -->
      <app-model-ejemplo [(volumen)]="volumenModel"></app-model-ejemplo>

      <!-- Indicador de sincronizaciÃ³n -->
      <div class="p-4 bg-orange-400/10 border border-orange-400/30 rounded-xl">
        <div class="flex items-center justify-between">
          <div>
            <p class="text-xs text-orange-300 font-mono uppercase tracking-wider mb-1">SincronizaciÃ³n bidireccional</p>
            <p class="text-orange-100 text-sm">Valor actual: <span class="text-orange-100 font-bold text-lg">{{ volumenModel() }}%</span></p>
          </div>
    
        </div>
        <div class="mt-3 p-2 bg-orange-500/40 rounded text-xs text-white">
          <p>âœ“ Padre modifica â†’ Hijo actualiza</p>
          <p>âœ“ Hijo modifica â†’ Padre actualiza</p>
        </div>
      </div>
    </div>
  </app-directive-card>

  <!-- CARD URL PARAMS -->
  <app-directive-card
    [title]="'Pasar datos mediante URL'"
    [directiveName]="'queryParams'"
    [description]="descriptionUrl"
    [themeColor]="'cyan'"
    [codeExample]="codeUrlExample"
    [fileName]="'component.ts'"
    [footerLabel]="'ParÃ¡metros URL'"
    [footerValue]="urlParams().id ? 'Detectados âœ“' : 'Sin parÃ¡metros'"
  >
    <div class="flex flex-col gap-4">

      <div class="p-4 bg-cyan-500/5 border border-cyan-500/20 rounded-lg">
        <p class="text-xs text-cyan-300 font-mono uppercase tracking-wider mb-3">EnvÃ­a datos mediante la URL</p>
        <p class="text-sm text-cyan-100 mb-4">
          Prueba haciendo clic en los botones para agregar parÃ¡metros a la URL:
        </p>
        <div class="flex flex-wrap gap-2">
          <button 
            (click)="actualizarUrlParams('001', 'Juan', 'Hola desde la URL')"
            class="px-4 py-2 bg-cyan-600 hover:bg-cyan-500 text-white text-xs font-mono rounded-lg transition-all active:scale-95 cursor-pointer"
          >
            Ejemplo 1
          </button>
          <button 
            (click)="actualizarUrlParams('002', 'MarÃ­a', 'ParÃ¡metros persistentes')"
            class="px-4 py-2 bg-cyan-600 hover:bg-cyan-500 text-white text-xs font-mono rounded-lg transition-all active:scale-95 cursor-pointer"
          >
            Ejemplo 2
          </button>
          <button 
            (click)="limpiarUrlParams()"
            class="px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white text-xs font-mono rounded-lg transition-all active:scale-95 cursor-pointer"
          >
            Limpiar
          </button>
        </div>
      </div>

      <!-- Muestra los parÃ¡metros recibidos -->
      <div class="p-4 bg-cyan-500/5 border border-cyan-500/20 rounded-lg">
        <p class="text-xs text-cyan-300 font-mono uppercase tracking-wider mb-3">Datos recibidos desde la URL</p>
        
        @if (urlParams().id || urlParams().nombre || urlParams().mensaje) {
          <div class="space-y-2">
            @if (urlParams().id) {
              <div class="p-3 bg-slate-900 rounded-lg border-l-2 border-cyan-400">
                <p class="text-xs text-cyan-300 font-mono uppercase mb-1">ID</p>
                <p class="text-white font-mono">{{ urlParams().id }}</p>
              </div>
            }
            @if (urlParams().nombre) {
              <div class="p-3 bg-slate-900 rounded-lg border-l-2 border-cyan-400">
                <p class="text-xs text-cyan-300 font-mono uppercase mb-1">Nombre</p>
                <p class="text-white font-mono">{{ urlParams().nombre }}</p>
              </div>
            }
            @if (urlParams().mensaje) {
              <div class="p-3 bg-slate-900 rounded-lg border-l-2 border-cyan-400">
                <p class="text-xs text-cyan-300 font-mono uppercase mb-1">Mensaje</p>
                <p class="text-white font-mono">{{ urlParams().mensaje }}</p>
              </div>
            }
          </div>
        } @else {
          <div class="p-6 bg-slate-900 rounded-xl border-2 border-dashed border-slate-700 text-center">
            <p class="text-slate-500 text-sm">ðŸ‘† Haz clic en un botÃ³n arriba para agregar parÃ¡metros a la URL</p>
          </div>
        }
      </div>

      <!-- Info sobre URL params -->
      <div class="p-4 bg-cyan-400/10 border border-cyan-400/30 rounded-xl">
        <p class="text-xs text-cyan-300 font-mono uppercase tracking-wider mb-2">ðŸ’¡ Query Params</p>
        <p class="text-xs text-cyan-200">
          Los parÃ¡metros se agregan a la URL y se pueden compartir. 
          Ãštil para filtros, bÃºsquedas o cualquier estado que quieras mantener persistente.
        </p>
      </div>
    </div>
  </app-directive-card>

  <!-- CARD LOCALSTORAGE -->
  <app-directive-card
    [title]="'Guardar datos'"
    [directiveName]="'localStorage'"
    [description]="descriptionLocalStorage"
    [themeColor]="'pink'"
    [codeExample]="codeLocalStorageExample"
    [fileName]="'component.ts'"
    [footerLabel]="'Estado'"
    [footerValue]="localStorageService.data().usuario ? 'Datos guardados âœ“' : 'Sin datos'"
  >
    <div class="flex flex-col gap-4">
      <!-- Botones para guardar datos -->
      <div class="p-4 bg-pink-500/5 border border-pink-500/20 rounded-lg">
        <p class="text-xs text-pink-300 font-mono uppercase tracking-wider mb-3">Guardar datos en el navegador</p>
        <p class="text-sm text-pink-100 mb-4">
          Los datos se guardan en el navegador y persisten al recargar la pÃ¡gina:
        </p>
        <div class="flex flex-wrap gap-2">
          <button 
            (click)="guardarEnLocalStorage('Carlos', 'Modo Oscuro', 'Azul')"
            class="px-4 py-2 bg-pink-600 hover:bg-pink-500 text-white text-xs font-mono rounded-lg transition-all active:scale-95 cursor-pointer"
          >
            Ejemplo 1
          </button>
          <button 
            (click)="guardarEnLocalStorage('Ana', 'Modo Claro', 'Verde')"
            class="px-4 py-2 bg-pink-600 hover:bg-pink-500 text-white text-xs font-mono rounded-lg transition-all active:scale-95 cursor-pointer"
          >
            Ejemplo 2
          </button>
          <button 
            (click)="limpiarLocalStorage()"
            class="px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white text-xs font-mono rounded-lg transition-all active:scale-95 cursor-pointer"
          >
            Limpiar
          </button>
        </div>
      </div>

      <!-- Muestra los datos guardados -->
      <div class="p-4 bg-pink-500/5 border border-pink-500/20 rounded-lg">
        <p class="text-xs text-pink-300 font-mono uppercase tracking-wider mb-3">Datos guardados en localStorage</p>
        
        @if (localStorageService.data().usuario || localStorageService.data().preferencia || localStorageService.data().tema) {
          <div class="space-y-2">
            @if (localStorageService.data().usuario) {
              <div class="p-3 bg-slate-900 rounded-lg border-l-2 border-pink-400">
                <p class="text-xs text-pink-300 font-mono uppercase mb-1">Usuario</p>
                <p class="text-white font-mono">{{ localStorageService.data().usuario }}</p>
              </div>
            }
            @if (localStorageService.data().preferencia) {
              <div class="p-3 bg-slate-900 rounded-lg border-l-2 border-pink-400">
                <p class="text-xs text-pink-300 font-mono uppercase mb-1">Preferencia</p>
                <p class="text-white font-mono">{{ localStorageService.data().preferencia }}</p>
              </div>
            }
            @if (localStorageService.data().tema) {
              <div class="p-3 bg-slate-900 rounded-lg border-l-2 border-pink-400">
                <p class="text-xs text-pink-300 font-mono uppercase mb-1">Tema</p>
                <p class="text-white font-mono">{{ localStorageService.data().tema }}</p>
              </div>
            }
          </div>
        } @else {
          <div class="p-6 bg-slate-900 rounded-xl border-2 border-dashed border-slate-700 text-center">
            <p class="text-slate-500 text-sm">ðŸ‘† Haz clic en un botÃ³n arriba para guardar datos</p>
          </div>
        }
      </div>

      <!-- Info sobre localStorage -->
      <div class="p-4 bg-pink-400/10 border border-pink-400/30 rounded-xl">
        <p class="text-xs text-pink-300 font-mono uppercase tracking-wider mb-2">ðŸ’¡ Persistencia local</p>
        <p class="text-xs text-pink-200">
          Los datos se guardan en tu navegador y permanecen incluso al cerrar la pestaÃ±a. 
          Recarga la pÃ¡gina y verÃ¡s que los datos siguen ahÃ­.
        </p>
      </div>
    </div>
  </app-directive-card>

</div>